{"version":3,"sources":["Article.js","App.js","index.js"],"names":["Article","App","React","Component","query","createRef","state","db","err","articles","componentDidMount","me","this","Promise","all","initSqlJs","fetch","then","res","a","SQLite","dbStorage","Database","Uint8Array","arrayBuffer","setState","search","catch","results","sql","exec","columns","values","map","row","article","columnName","i","e","renderArticle","brand","render","className","Breadcrumbs","aria-label","Link","color","href","onClick","handleClick","Typography","style","height","TextField","id","label","variant","onChange","target","value","defaultValue","ref","fullWidth","toString","Grid","container","justify","alignItems","spacing","item","xs","Card","ean_code","width","src","image_medium_url","alt","internal_article_id","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.c8b96c61.chunk.js","sourcesContent":["export class Article {\n  internal_article_id;\n  ean_code;\n  company_id;\n  brand;\n  user_group;\n  article_type;\n  line;\n  frame_dbl;\n  frame_rim_type;\n  frame_rx;\n  frame_colour;\n  frame_material;\n  frame_material_type;\n  frame_height;\n  frame_width;\n  frame_spring_hinge;\n  frame_temple_length;\n  frame_shape_type;\n  frame_shape_height;\n  frame_shape_length;\n  lens_material_type;\n  lens_colour;\n  image_medium_url;\n  delivery_range_index;\n}\n","import React from \"react\";\nimport \"./styles.css\";\nimport initSqlJs from \"sql.js\";\nimport {Article} from \"./Article\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport Link from \"@material-ui/core/Link\";\nimport Card from \"@material-ui/core/Card\";\n\nexport default class App extends React.Component {\n  query = React.createRef();\n  state = {\n    db:       null,\n    err:      null,\n    articles: null\n  }\n\n  componentDidMount() {\n    const me = this;\n    Promise.all([initSqlJs(), fetch('articles.sqlite')]).then(async res => {\n      const SQLite = res[0], dbStorage = res[1];\n      me.setState({\n        db: new SQLite.Database(new Uint8Array(await dbStorage.arrayBuffer()))\n      });\n\n      me.search(\"Herren\");\n\n    }).catch(err => {\n      me.setState({err});\n    });\n  }\n\n  search(query) {\n    let results = null, err = null, articles =null;\n    const sql = \"SELECT t.* FROM db_articles t \" +\n                \"WHERE internal_article_id LIKE '%\"+query+\"%' \" +\n                \"OR ean_code LIKE  '%\"+query+\"%' \" +\n                // \"OR company_id LIKE  '%\"+query+\"%' \" +\n                \"OR brand LIKE  '%\"+query+\"%' \" +\n                \"OR user_group LIKE  '%\"+query+\"%' \" +\n                \"OR article_type LIKE  '%\"+query+\"%' \" +\n                \"OR line LIKE  '%\"+query+\"%' \" +\n                \"OR frame_dbl LIKE  '%\"+query+\"%' \" +\n                \"OR frame_rim_type LIKE  '%\"+query+\"%' \" +\n                \"OR frame_rx LIKE  '%\"+query+\"%' \" +\n                \"OR frame_colour LIKE  '%\"+query+\"%' \" +\n                \"OR frame_material LIKE  '%\"+query+\"%' \" +\n                \"OR frame_material_type LIKE  '%\"+query+\"%' \" +\n                \"OR frame_height LIKE  '%\"+query+\"%' \" +\n                \"OR frame_width LIKE  '%\"+query+\"%' \" +\n                \"OR frame_spring_hinge LIKE  '%\"+query+\"%' \" +\n                \"OR frame_temple_length LIKE  '%\"+query+\"%' \" +\n                \"OR frame_shape_type LIKE  '%\"+query+\"%' \" +\n                \"OR frame_shape_height LIKE  '%\"+query+\"%' \" +\n                \"OR frame_shape_length LIKE  '%\"+query+\"%' \" +\n                \"OR lens_material_type LIKE  '%\" + query + \"%' \"\n                + \"OR lens_colour LIKE  '%\" + query + \"%' \"\n                // + \"OR image_medium_url LIKE  '%\" + query + \"%' \"\n                // + \"OR delivery_range_index LIKE  '%\" + query + \"%' \"\n                + \"LIMIT 200;  \"\n\n    try {\n      // The sql is executed synchronously on the UI thread. \n      // You may want to use a web worker\n      results = this.state.db.exec(sql); // an array of objects is returned\n      const columns = results[0].columns;\n      articles = results[0].values.map(row => {\n        let article = new Article();\n        columns.map((columnName, i) => article[columnName] = row[i])\n        return article;\n      })\n\n    } catch (e) {\n      // exec throws an error when the SQL statement is invalid\n      err = e\n    }\n    this.setState({  err, articles })\n  }\n\n  /**\n   * Renders a single value of the array returned by db.exec(...) as a table\n   * @param {Article} article\n   */\n  renderArticle(article) {\n    return (<div>\n        <h1>{article.brand}</h1>\n      </div>);\n  }\n\n  render() {\n    let { db, err, articles } = this.state;\n    if (!db) return <pre>Loading...</pre>;\n    return (\n      <div className=\"App\">\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link color=\"inherit\" href=\"/\" onClick={this.handleClick}>\n            Optikfried\n          </Link>\n          <Link color=\"inherit\" href=\"/getting-started/installation/\" onClick={this.handleClick}>\n            Eyewears\n          </Link>\n          <Typography color=\"textPrimary\">Articles</Typography>\n        </Breadcrumbs>\n\n        <div style={{height: 10}}/>\n\n        <TextField\n          id=\"filled-basic\"\n          label=\"Search\"\n          variant=\"filled\"\n          onChange={e => this.search(e.target.value)}\n          defaultValue=\"Damen\"\n          ref={this.query}\n          fullWidth={100}\n        />\n\n        <pre className=\"error\">{(err || \"\").toString()}</pre>\n\n        <Grid\n          container\n          justify=\"center\"\n          alignItems=\"center\"\n          spacing={1}>\n\n          {articles ? articles.map(article => {\n            return (<Grid container item xs={3} spacing={3}>\n              <Card>\n                {article.ean_code}<br/>\n                <img width={300} src={article.image_medium_url} alt={article.internal_article_id}/>\n              </Card>\n            </Grid>)\n          }) : \"\"}\n\n        </Grid>\n\n      </div>);\n  }\n\n  handleClick() {\n\n  }\n\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}